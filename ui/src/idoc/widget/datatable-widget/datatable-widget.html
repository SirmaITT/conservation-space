<div>
  <div ng-if="datatableWidget.errorMessage" class="message error">
    {{::datatableWidget.errorMessage | translate}}
  </div>
  <div ng-if="datatableWidget.showDatatable()" magic-line-disabled>
    <div class="table-toolbar form-inline" extension-point="datatable-toolbar"></div>

    <div ng-show="datatableWidget.config.displayTableHeaderRow" class="table-header nav" ng-style="{ 'width': datatableWidget.panelsWidth  }">
      <div ng-repeat="header in datatableWidget.widgetConfig.headers" class="header-cell" data-header-cell-name="{{::header.name}}"
           ng-style="::{ 'width': datatableWidget.config.styles.columns[header.name].width }">
        <div class="title-cell">
          <a class="title">
            <span>{{ ::datatableWidget.getColumnHeaderLabel(header) }}</span>
          </a>
        </div>
      </div>
    </div>

    <div class="table-body" ng-style="{ 'width': datatableWidget.panelsWidth  }">
      <seip-form-wrapper ng-repeat="selectedObject in datatableWidget.widgetConfig.objectsOnPage"
                         config="datatableWidget.formConfig" form-config="selectedObject"></seip-form-wrapper>
    </div>

    <div class="table-footer">
      <span class="results-count no-print" ng-if="datatableWidget.showResultSize()">
        <a href="javascript: void(0);"
           ng-click="datatableWidget.showResults()">
           {{datatableWidget.paginationConfig.resultSize}} {{::'search.messages.total' | translate}}
        </a>
      </span>
      <span ng-hide="datatableWidget.isPaginationHidden()">
        <seip-pagination total="datatableWidget.paginationConfig.resultSize"
                         page="datatableWidget.paginationConfig.page"
                         config="datatableWidget.paginationConfig"
                         callback="datatableWidget.paginationCallback">
        </seip-pagination>
      </span>
    </div>
  </div>
</div>