<?xml version="1.0"?>
<caseDefinition parentId="GEC10001" isAbstract="false">
	<fields>
		<field name="type" type="an..180" label="genericcase.id" mandatory="true" displayType="readonly" dmsType="emf:type" codelist="CL200"><value>GEC20001</value></field>
		<field name="status" displayType="system"/>
		<field name="title" order="10" type="an..180" mandatory="true" displayType="editable"><value>${get([title])}</value></field>
		<field name="description" order="20" type="an..1024" mandatory="false"><value>${CL200(GEC20001).comment}</value></field>
	</fields>
	<sectionDefinitions>
    	<section id="official">
    		<fields>
				<field name="default_header" type="an..4096" label="SECTION_DEFAULT_HEADER_AUTO" mandatory="false" displayType="system" dmsType="FORBIDDEN"/>
                <field name="compact_header" type="an..4096" label="SECTION_COMPACT_HEADER_AUTO" mandatory="false" displayType="system" dmsType="FORBIDDEN"/>
                <field name="breadcrumb_header" type="an..4096" label="SECTION_BREADCRUMB_HEADER_AUTO" mandatory="false" displayType="system" dmsType="FORBIDDEN"/>
				<field name="emf:isDeleted" type="boolean"  displayType="system" uri="emf:isDeleted" dmsType="FORBIDDEN"><value>false</value></field>
			    <field name="title" type="an..180" label="genericcase.section.official.title" mandatory="false" displayType="readonly" dmsType="cm:title" />
			    <field name="description" type="an..180" label="genericcase.section.official.description" mandatory="false" displayType="readonly" dmsType="cm:description" />
				<field name="dmsId" type="an..40" mandatory="false" displayType="system"/>
	    	</fields>
	        <documentDefinitions>
				<!--Документ за платена такса-->
				<documentDefinition id="AD210001" numberOfCopies="2" mandatory="false" referenceId="AD210001" />
				<!--Произволен тип документ-->
                <documentDefinition id="OT210027" numberOfCopies="-1" mandatory="false" referenceId="OT210027" purpose="iDoc"/>
                <documentDefinition id="DT210011" numberOfCopies="-1" mandatory="false" referenceId="OT210027" purpose="iDoc"/>
			</documentDefinitions>
			<transitions>
				<transition id="upload" label="section.upload.btn.title" eventId="upload" purpose="action" />
				<transition id="createIdoc" label="section.createIdoc.btn.title" eventId="createIdoc" purpose="action" />
				<transition id="attachDocument" label="section.attachDocument.btn.title" eventId="attachDocument" purpose="action" />
			</transitions>
			<stateTransitions>
				<stateTransition from="APPROVED" transition="upload" to="APPROVED"/>
				<stateTransition from="IN_PROGRESS" transition="upload" to="IN_PROGRESS"/>
				<stateTransition from="ON_HOLD" transition="upload" to="ON_HOLD"/>
				<stateTransition from="APPROVED" transition="createIdoc" to="APPROVED"/>
				<stateTransition from="IN_PROGRESS" transition="createIdoc" to="IN_PROGRESS"/>
				<stateTransition from="ON_HOLD" transition="createIdoc" to="ON_HOLD"/>
				<stateTransition from="SUBMITTED" transition="attachDocument" to="SUBMITTED"/>
				<stateTransition from="APPROVED" transition="attachDocument" to="APPROVED"/>
				<stateTransition from="IN_PROGRESS" transition="attachDocument" to="IN_PROGRESS"/>
				<stateTransition from="ON_HOLD" transition="attachDocument" to="ON_HOLD"/>				
			</stateTransitions>           
		</section>
		<!-- Вътрешен раздел -->
	   	<section id="private" >
			<fields>
				<field name="default_header" type="an..4096" label="SECTION_DEFAULT_HEADER_AUTO" mandatory="false" displayType="system" dmsType="FORBIDDEN"/>
                <field name="compact_header" type="an..4096" label="SECTION_COMPACT_HEADER_AUTO" mandatory="false" displayType="system" dmsType="FORBIDDEN"/>
                <field name="breadcrumb_header" type="an..4096" label="SECTION_BREADCRUMB_HEADER_AUTO" mandatory="false" displayType="system" dmsType="FORBIDDEN"/>
				<field name="emf:isDeleted" type="boolean"  displayType="system" uri="emf:isDeleted" dmsType="FORBIDDEN"><value>false</value></field>
			    <field name="title" type="an..180" label="genericcase.section.private.title" mandatory="false" displayType="readonly" dmsType="cm:title"/>
			    <field name="description" type="an..180" label="genericcase.section.private.description" mandatory="false" displayType="readonly" dmsType="cm:description" />
	    	    <field name="dmsId" type="an..40" mandatory="false" displayType="system"/>
	    	</fields>
			<documentDefinitions>
				<!--Документ за платена такса-->
				<documentDefinition id="AD210001" numberOfCopies="2" mandatory="false" referenceId="AD210001" />
				<!--Произволен тип документ-->
				<documentDefinition id="OT210027" numberOfCopies="-1" mandatory="false" referenceId="OT210027" />
			</documentDefinitions>
			<transitions>
				<transition id="upload" label="section.upload.btn.title" eventId="upload" purpose="action" />
                <transition id="createIdoc" label="section.createIdoc.btn.title" eventId="createIdoc" purpose="action" />
				<transition id="attachDocument" label="section.attachDocument.btn.title" eventId="attachDocument" purpose="action" />
			</transitions>
			<stateTransitions>
				<stateTransition from="APPROVED" transition="upload" to="APPROVED"/>
				<stateTransition from="IN_PROGRESS" transition="upload" to="IN_PROGRESS"/>
				<stateTransition from="ON_HOLD" transition="upload" to="ON_HOLD"/>
				<stateTransition from="APPROVED" transition="createIdoc" to="APPROVED"/>
				<stateTransition from="IN_PROGRESS" transition="createIdoc" to="IN_PROGRESS"/>
				<stateTransition from="ON_HOLD" transition="createIdoc" to="ON_HOLD"/>
				<stateTransition from="SUBMITTED" transition="attachDocument" to="SUBMITTED"/>
				<stateTransition from="APPROVED" transition="attachDocument" to="APPROVED"/>
				<stateTransition from="IN_PROGRESS" transition="attachDocument" to="IN_PROGRESS"/>
				<stateTransition from="ON_HOLD" transition="attachDocument" to="ON_HOLD"/>				
			</stateTransitions>
		</section>
		<!-- Контролен раздел -->
		<section id="audit" >
			<fields>
				<field name="default_header" type="an..4096" label="SECTION_DEFAULT_HEADER_AUTO" mandatory="false" displayType="system" dmsType="FORBIDDEN"/>
                <field name="compact_header" type="an..4096" label="SECTION_COMPACT_HEADER_AUTO" mandatory="false" displayType="system" dmsType="FORBIDDEN"/>
                <field name="breadcrumb_header" type="an..4096" label="SECTION_BREADCRUMB_HEADER_AUTO" mandatory="false" displayType="system" dmsType="FORBIDDEN"/>
				<field name="emf:isDeleted" type="boolean"  displayType="system" uri="emf:isDeleted" dmsType="FORBIDDEN"><value>false</value></field>
			    <field name="title" type="an..180" label="genericcase.section.audit.title" mandatory="false" displayType="readonly" dmsType="cm:title"/>
			    <field name="description" type="an..180" label="genericcase.section.audit.description" mandatory="false" displayType="readonly" dmsType="cm:description"/>
	    	    <field name="dmsId" type="an..40" mandatory="false" displayType="system"/>
	    	</fields>
			<documentDefinitions>
				<!--Документ за платена такса-->
				<documentDefinition id="AD210001" numberOfCopies="2" mandatory="false" referenceId="AD210001" />
				<!--Произволен тип документ-->
				<documentDefinition id="OT210027" numberOfCopies="-1" mandatory="false" referenceId="OT210027" />
			</documentDefinitions>
			<transitions>
				<transition id="upload" label="section.upload.btn.title" eventId="upload" purpose="action" />
                <transition id="createIdoc" label="section.createIdoc.btn.title" eventId="createIdoc" purpose="action" />
				<transition id="attachDocument" label="section.attachDocument.btn.title" eventId="attachDocument" purpose="action" />
			</transitions>
			<stateTransitions>
				<stateTransition from="APPROVED" transition="upload" to="APPROVED"/>
				<stateTransition from="IN_PROGRESS" transition="upload" to="IN_PROGRESS"/>
				<stateTransition from="ON_HOLD" transition="upload" to="ON_HOLD"/>
				<stateTransition from="APPROVED" transition="createIdoc" to="APPROVED"/>
				<stateTransition from="IN_PROGRESS" transition="createIdoc" to="IN_PROGRESS"/>
				<stateTransition from="ON_HOLD" transition="createIdoc" to="ON_HOLD"/>
				<stateTransition from="SUBMITTED" transition="attachDocument" to="SUBMITTED"/>
				<stateTransition from="APPROVED" transition="attachDocument" to="APPROVED"/>
				<stateTransition from="IN_PROGRESS" transition="attachDocument" to="IN_PROGRESS"/>
				<stateTransition from="ON_HOLD" transition="attachDocument" to="ON_HOLD"/>				
			</stateTransitions>
		</section>
		<section id="workflow">
    		<fields>
				<field name="default_header" type="an..4096" label="SECTION_DEFAULT_HEADER_AUTO" mandatory="false" displayType="system" dmsType="FORBIDDEN"/>
                <field name="compact_header" type="an..4096" label="SECTION_COMPACT_HEADER_AUTO" mandatory="false" displayType="system" dmsType="FORBIDDEN"/>
                <field name="breadcrumb_header" type="an..4096" label="SECTION_BREADCRUMB_HEADER_AUTO" mandatory="false" displayType="system" dmsType="FORBIDDEN"/>
				<field name="emf:isDeleted" type="boolean"  displayType="system" uri="emf:isDeleted" dmsType="FORBIDDEN"><value>false</value></field>
			    <field name="title" type="an..180" label="genericcase.section.workflow.title" mandatory="false" displayType="readonly" dmsType="cm:title" />
			    <field name="description" type="an..180" label="genericcase.section.workflow.description" mandatory="false" displayType="readonly" dmsType="cm:description" />
				<field name="dmsId" type="an..40" mandatory="false" displayType="system"/>
	    	</fields>
	        <documentDefinitions>
				<!---->
				<documentDefinition id="ET120001" numberOfCopies="-1" mandatory="false" referenceId="ET120001" />
				<!---->
				<documentDefinition id="ET130001" numberOfCopies="-1" mandatory="false" referenceId="ET130001" purpose="iDoc"/>
                <documentDefinition id="OT210027" numberOfCopies="-1" mandatory="false" referenceId="OT210027" purpose="iDoc"/>
				<documentDefinition id="DT210011" numberOfCopies="-1" mandatory="false" referenceId="DT210011" purpose="iDoc"/>
			</documentDefinitions>
			<transitions>
				<transition id="upload" label="section.upload.btn.title" eventId="upload" purpose="action" />
				<transition id="createIdoc" label="section.createIdoc.btn.title" eventId="createIdoc" purpose="action" />
				<transition id="attachDocument" label="section.attachDocument.btn.title" eventId="attachDocument" purpose="action" />
			</transitions>
			<stateTransitions>
				<stateTransition from="APPROVED" transition="upload" to="APPROVED"/>
				<stateTransition from="IN_PROGRESS" transition="upload" to="IN_PROGRESS"/>
				<stateTransition from="ON_HOLD" transition="upload" to="ON_HOLD"/>
				<stateTransition from="APPROVED" transition="createIdoc" to="APPROVED"/>
				<stateTransition from="IN_PROGRESS" transition="createIdoc" to="IN_PROGRESS"/>
				<stateTransition from="ON_HOLD" transition="createIdoc" to="ON_HOLD"/>
				<stateTransition from="SUBMITTED" transition="attachDocument" to="SUBMITTED"/>
				<stateTransition from="APPROVED" transition="attachDocument" to="APPROVED"/>
				<stateTransition from="IN_PROGRESS" transition="attachDocument" to="IN_PROGRESS"/>
				<stateTransition from="ON_HOLD" transition="attachDocument" to="ON_HOLD"/>				
			</stateTransitions>           
		</section>
		<section id="objects" purpose="objectsSection">
    		<fields>
                <field name="default_header" type="an..4096" label="SECTION_DEFAULT_HEADER_AUTO" mandatory="false" displayType="system" dmsType="FORBIDDEN"/>
                <field name="compact_header" type="an..4096" label="SECTION_COMPACT_HEADER_AUTO" mandatory="false" displayType="system" dmsType="FORBIDDEN"/>
                <field name="breadcrumb_header" type="an..4096" label="SECTION_BREADCRUMB_HEADER_AUTO" mandatory="false" displayType="system" dmsType="FORBIDDEN"/>
				<field name="emf:isDeleted" type="boolean"  displayType="system" uri="emf:isDeleted" dmsType="FORBIDDEN"><value>false</value></field>                
			    <field name="title" type="an..180" label="genericcase.section.objects.title" mandatory="false" displayType="readonly" dmsType="cm:title" />
			    <field name="description" type="an..180" label="genericcase.section.objects.description" mandatory="false" displayType="readonly" dmsType="cm:description" />
				<field name="dmsId" type="an..40" mandatory="false" displayType="system"/>
	    	</fields>
			<transitions>
				<transition id="createObject" label="section.createObject.btn.title" eventId="createObject" purpose="action" />
				<transition id="attachObject" label="section.attachObject.btn.title" eventId="attachObject" purpose="action" />
			</transitions>
			<stateTransitions>
				<stateTransition from="APPROVED" transition="createObject" to="APPROVED"/>
				<stateTransition from="APPROVED" transition="attachObject" to="APPROVED"/>
				<stateTransition from="IN_PROGRESS" transition="createObject" to="IN_PROGRESS"/>
				<stateTransition from="IN_PROGRESS" transition="attachObject" to="IN_PROGRESS"/>
				<stateTransition from="ON_HOLD" transition="createObject" to="ON_HOLD"/>
				<stateTransition from="ON_HOLD" transition="attachObject" to="ON_HOLD"/>
			</stateTransitions>
            <allowedChildren>
                <child type="object" id="all" />
            </allowedChildren>
		</section>
	</sectionDefinitions>
	<allowedChildren>
        <child type="task" id="all" />
		<child type="workflow" id="all" />
		<child type="object" id="all" />
    </allowedChildren>
	<labels>
        <!-- Section labels -->
		<label id="SECTION_DEFAULT_HEADER_AUTO">
			<value lang="bg"><![CDATA[${eval(<a class="${id.type}" href="${link(currentInstance)}">${label([title])}</a>)}]]></value>
			<value lang="en"><![CDATA[${eval(<a class="${id.type}" href="${link(currentInstance)}">${label([title])}</a>)}]]></value>
		</label>
        <label id="SECTION_COMPACT_HEADER_AUTO">
			<value lang="bg"><![CDATA[${eval(<a class="${id.type}" href="${link(currentInstance)}">${label([title])}</a>)}]]></value>
			<value lang="en"><![CDATA[${eval(<a class="${id.type}" href="${link(currentInstance)}">${label([title])}</a>)}]]></value>
		</label>
        <label id="SECTION_BREADCRUMB_HEADER_AUTO">
			<value lang="bg"><![CDATA[${eval(<a class="${id.type}" href="${link(currentInstance)}">${label([title])}</a>)}]]></value>
			<value lang="en"><![CDATA[${eval(<a class="${id.type}" href="${link(currentInstance)}">${label([title])}</a>)}]]></value>
		</label>
		<label id="genericcase.section.audit.title">
			<value lang="bg">Контролен раздел</value>
			<value lang="en">Audit section</value>
		</label>
		<label id="genericcase.section.audit.description">
			<value lang="bg">Описание</value>
			<value lang="en">Description</value>
		</label>
		<label id="genericcase.section.private.title">
			<value lang="bg">Вътрешен раздел</value>
			<value lang="en">Private section</value>
		</label>
		<label id="genericcase.section.private.description">
			<value lang="bg">Описание</value>
			<value lang="en">Description</value>
		</label>
		<label id="genericcase.section.official.title">
			<value lang="bg">Официален раздел</value>
			<value lang="en">Official section</value>
		</label>
		<label id="genericcase.section.official.description">
			<value lang="bg">Описание</value>
			<value lang="en">Description</value>
		</label>
		<label id="genericcase.section.workflow.title">
			<value lang="bg">Раздел с документи, които променят състоянието си от работен процес</value>
			<value lang="en">Section for documents with changing state by workflow</value>
		</label>
		<label id="genericcase.section.workflow.description">
			<value lang="bg">Описание</value>
			<value lang="en">Description</value>
		</label>
	</labels>
</caseDefinition>