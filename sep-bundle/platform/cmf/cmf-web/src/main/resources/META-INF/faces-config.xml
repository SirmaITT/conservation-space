<?xml version="1.0"?>
<!-- Marker file indicating JSF 2.0 should be enabled in the application -->
<faces-config version="2.0" xmlns="http://java.sun.com/xml/ns/javaee"
	xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="       http://java.sun.com/xml/ns/javaee       http://java.sun.com/xml/ns/javaee/web-facesconfig_2_0.xsd">

	<navigation-rule>
		<from-view-id>*</from-view-id>
		
		<!-- user -->
		<navigation-case>
			<from-outcome>user-change-password</from-outcome>
			<to-view-id>/user/change-password-form.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		
		<!-- user dashboard -->
		<navigation-case>
			<from-outcome>dashboard</from-outcome>
			<to-view-id>/userDashboard/dashboard.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		
		<!-- Case dashboard navigation -->
		<navigation-case>
			<from-outcome>caseinstance</from-outcome>
			<to-view-id>/case/case-dashboard.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		
		<!-- Case details navigation -->
		<navigation-case>
			<from-outcome>case-details</from-outcome>
			<to-view-id>/case/case-details.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		
		<navigation-case>
			<from-outcome>case-documents</from-outcome>
			<to-view-id>/case/case-documents.xhtml</to-view-id>
			<redirect />
		</navigation-case>

		<navigation-case>
			<from-outcome>case-relations</from-outcome>
			<to-view-id>/case/case-relations.xhtml</to-view-id>
			<redirect />
		</navigation-case>

		<navigation-case>
			<from-outcome>case-discussions</from-outcome>
			<to-view-id>/case/case-discussions.xhtml</to-view-id>
			<redirect />
		</navigation-case>

		<navigation-case>
			<from-outcome>case-workflow</from-outcome>
			<to-view-id>/case/case-workflow.xhtml</to-view-id>
			<redirect />
		</navigation-case>

		<navigation-case>
			<from-outcome>case-workflow-list</from-outcome>
			<to-view-id>/case/case-workflow-list.xhtml</to-view-id>
			<redirect />
		</navigation-case>

		<navigation-case>
			<from-outcome>case-objects</from-outcome>
			<to-view-id>/case/case-objects.xhtml</to-view-id>
			<redirect />
		</navigation-case>

		<navigation-case>
			<from-outcome>case-history</from-outcome>
			<to-view-id>/case/case-history.xhtml</to-view-id>
			<redirect />
		</navigation-case>

		<navigation-case>
			<from-outcome>case-link</from-outcome>
			<to-view-id>/case/case-link.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		
		<!-- document details -->
		<navigation-case>
			<from-outcome>documentinstance</from-outcome>
			<to-view-id>/document/document-details.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		
		<!-- Case instance operations -->
		<navigation-case>
			<from-outcome>case-form</from-outcome>
			<to-view-id>/case/case.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		
		<!-- workflow details -->
		<navigation-case>
			<from-outcome>workflowinstancecontext</from-outcome>
			<to-view-id>/workflow/workflow.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		
		<!-- workflow task details -->
		<navigation-case>
			<from-outcome>taskinstance</from-outcome>
			<to-view-id>/task/workflow/task-details.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		
		<!-- standalone task details -->
		<navigation-case>
			<from-outcome>standalonetaskinstance</from-outcome>
			<to-view-id>/task/standaloneTask/standalone-task-details.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		
		<!-- workflow tasks list -->
		<navigation-case>
			<from-outcome>task-list</from-outcome>
			<to-view-id>/task/task-list.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		
		<!-- documents list -->
		<navigation-case>
			<from-outcome>document-list</from-outcome>
			<to-view-id>/document/document-list.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		
		<!-- case list -->
		<navigation-case>
			<from-outcome>case-list</from-outcome>
			<to-view-id>/case/case-list.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		
		<!-- search pages -->
		<navigation-case>
			<from-outcome>search</from-outcome>
			<to-view-id>/search/search.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		
		<navigation-case>
			<from-outcome>basic-search</from-outcome>
			<to-view-id>/search/basic-search.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		
		<!-- help request -->
		<navigation-case>
			<from-outcome>help-request-menu</from-outcome>
			<to-view-id>/help/help-request.xhtml</to-view-id>
			<redirect />
		</navigation-case>
		
		<!-- document instance operations rules -->
		<navigation-case>
			<from-outcome>document-edit-properties</from-outcome>
			<to-view-id>/document/document-properties.xhtml</to-view-id>
			<redirect />
		</navigation-case>

		<!--  -->
		<navigation-case>
			<from-outcome>document-register-list</from-outcome>
			<to-view-id>/document/result-document-register-search.xhtml</to-view-id>
			<redirect />
		</navigation-case>

		<!-- Admin section navigation -->
		<navigation-case>
			<from-outcome>menu-navigation-administration</from-outcome>
			<to-view-id>/admin/admin.xhtml</to-view-id>
			<redirect />
		</navigation-case>

		<navigation-case>
			<from-outcome>menu-admin-definitions</from-outcome>
			<to-view-id>/admin/definition-preview.xhtml</to-view-id>
			<redirect />
		</navigation-case>

		<navigation-case>
			<from-outcome>menu-admin-sync</from-outcome>
			<to-view-id>/admin/definition-sync.xhtml</to-view-id>
			<redirect />
		</navigation-case>

		<navigation-case>
			<from-outcome>menu-admin-home</from-outcome>
			<to-view-id>/admin/admin.xhtml</to-view-id>
			<redirect />
		</navigation-case>

		<navigation-case>
			<from-outcome>menu-admin-exit</from-outcome>
			<to-view-id>/common/home.xhtml</to-view-id>
			<redirect />
		</navigation-case>

		<navigation-case>
			<from-outcome>server-synchronized</from-outcome>
			<to-view-id>/admin/admin.xhtml</to-view-id>
			<redirect />
		</navigation-case>
	</navigation-rule>

	<application>
		<locale-config>
			<default-locale>bg</default-locale>
			<supported-locale>en</supported-locale>
		</locale-config>
		<navigation-handler>com.sirma.cmf.web.navigation.EmfNavigationHandler</navigation-handler>
	</application>

   	<lifecycle>
		<phase-listener>com.sirma.cmf.web.navigation.EmfPhaseListener</phase-listener>
	</lifecycle>

</faces-config>
