<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html">
	
	<h:panelGroup id="objectsExplorer" styleClass="facet filter-facet" layout="block" 
		rendered="#{documentContext.getCurrentInstance() != null and instanceUtil.isPersisted(documentContext.getCurrentInstance())}">
			<div id="objectsExplorerHeader" class="facet-header expanded">
				#{label['objects.explorer.panel.title']}
			</div>
			
			<div id="objectsExplorerContent" class="facet-content object-browser">
		
			</div>
			
			<script type="text/javascript">
				Ext.onReady(function() {
					EMF.CMF.objectsExplorer.init({
						container		: 'objectsExplorerContent',
						node			: '#{documentContext.getRootInstance().id}',
						type			: '#{documentContext.getRootInstance().getClass().getSimpleName().toLowerCase()}',
						rootNodeText	: '#{labelBuilder.escapeJavascipt(documentContext.getRootInstance().properties.compact_header)}',
						currentNodeId	: '#{documentContext.getCurrentInstance().id}',
						currentNodeType	: '#{documentContext.getCurrentInstance().getClass().getSimpleName().toLowerCase()}',
						contextPath		: SF.config.contextPath,
						autoExpand		: true,
						rootType		: '#{documentContext.getRootInstance().getClass().getSimpleName().toLowerCase()}'
					});
				});
			</script>
	</h:panelGroup>

</ui:composition>
