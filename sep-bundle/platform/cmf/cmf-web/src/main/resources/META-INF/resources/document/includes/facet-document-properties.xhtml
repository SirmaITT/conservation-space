<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:h="http://java.sun.com/jsf/html">

	<h:panelGroup id="documentPropertiesFacet" styleClass="facet document-properties" rendered="true" layout="block">
		<div class="facet-header expanded" id="documentPropertiesFacetHeader">
			<span class="facet-title">#{label['cmf.document.preview.facet.fields.header']}</span>
		</div>

		<div class="facet-content">
			<a4j:outputPanel id="documentDataPanel" layout="block" styleClass="document-properties-form dynamic-form-panel" ajaxRendered="true" />
			
			<a4j:commandLink value="load document details" action="#{documentAction.renderDocumentFieldsList()}" 
				styleClass="load-document-details-link hide" render="#{rich:clientId('documentDataPanel')}" execute="@this" />
				
			<script type="text/javascript">
				$(function() {
					$('.load-document-details-link').click();
				});
			</script>
		</div>
	</h:panelGroup>

</ui:composition>
