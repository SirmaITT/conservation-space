<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:c="http://java.sun.com/jsp/jstl/core"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:emf="http://com.sirma.itt.emf"
    xmlns:a4j="http://richfaces.org/a4j">

<h:head>
	<ui:remove><!-- Static resources need to be before insert page fragment, prevent GUI problems. --></ui:remove>		

	<ui:include src="/templates/cls-static-resources.xhtml" />

	<f:facet name="begin">
		<emf:insertPageFragments point="#{browserTabsExtensionPoint.extensionPoint}" />
	    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
	</f:facet>
</h:head>

<h:body lang="#{emfLocaleService.language}">

	<f:view locale="#{emfLocaleService.language}">
	
		<ui:include src="/common/js-config.xhtml" />
		
		<a4j:status onstart="EMF.blockUI.togglePageBlocker(event);" onstop="EMF.onAfterAjax(event);" /> 
		 	 
		<a4j:outputPanel ajaxRendered="true" id="notificationsPanel">
			<emf:notificationMessages />
		</a4j:outputPanel>
		
	    <div id="container" class="cmf-container">
	
	        <div id="topHeader" class="top-header">
				<ui:include src="/menu/main/main-menu.xhtml" />
	        </div>
	
	        <div id="header" class="header">
	            <h:form id="menuForm">
		            <ui:include src="/menu/header/application-header.xhtml" />
		            
		            <div class="header-menu navigation-menu">
		            	<emf:insertPageFragments point="navigationMenu" />
		            	<h:inputText id="selectedMenuLink" value="#{navigationMenuAction.selectedMenu}" style="display: none;" />
		            </div>
		            
					<ui:include src="/menu/session-counter.xhtml">
						<ui:param name="showLabel" value="false" />
					</ui:include>
		        </h:form>
	        </div>
	        
			<ui:insert name="pageParams" />
	
	        <div id="content" class="content">
	            <div class="content-row">
		            <div id="contentBody" class="content-body">
			            <h:panelGroup id="contentWrapper" styleClass="main-content-wrapper" layout="block">
				                <ui:insert name="content">
				                [Content piece will be inserted here]
				                </ui:insert>
			            </h:panelGroup>
		            </div>
	            </div>
	        </div>
	
			<c:if test="#{applicationConfigurationProvider.applicationFooterEnable}">
		        <div id="footer" class="footer">
		        	<ui:include src="/common/footer.xhtml" />
		        </div>
	        </c:if>
	    </div>

	    <c:if test="#{applicationConfigurationProvider.applicationModeDevelopement}">
	    </c:if>
	
	</f:view>
</h:body>
</html>
