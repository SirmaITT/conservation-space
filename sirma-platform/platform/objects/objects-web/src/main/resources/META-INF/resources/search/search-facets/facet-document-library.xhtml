<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:rich="http://richfaces.org/rich" xmlns:a4j="http://richfaces.org/a4j" xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html">


	<h:panelGroup id="libraryFilterFacet" styleClass="facet filter-facet" layout="block"
		rendered="#{instanceUtil.isPersisted(documentContext.rootInstance)}">

		<h:form id="libraryLinksForm">

			<div id="libraryFiltersFacetHeader" class="facet-header expanded">#{label['cmf.facet.library.title']}</div>

			<!-- The link to document library. -->
			<h:link id="mainLibraryLink" value="#{label['cmf.facet.library.link']}" outcome="#{libraryAction.mainLibraryUrl()}"
				styleClass="libraryLink facet-content">

				<f:attribute name="styleClass"
					value="#{(selectedFilternameHolder.selectedFilterName==caseFilter.filterType) ? 'selected-search-filter' : ''} facet-content" />
			</h:link>

			<rich:list id="caseFilters" value="#{libraryAction.libraryFilters}" var="libraryFilter" type="unordered"
				styleClass="facet-content">

				<h:link id="libraryFilter" value="#{libraryFilter.title}" outcome="#{libraryAction.libraryUrl(libraryFilter)}"
					styleClass="libraryLink" title="#{libraryFilter.id}">

					<f:attribute name="styleClass"
						value="#{(selectedFilternameHolder.selectedFilterName==caseFilter.filterType) ? 'selected-search-filter' : ''} facet-content" />
				</h:link>
			</rich:list>
			<h:commandButton style="display:none" id="refreshLibrary">
				<f:ajax render=":libraryFilterFacet" />
			</h:commandButton>
		</h:form>
	</h:panelGroup>

</ui:composition>
