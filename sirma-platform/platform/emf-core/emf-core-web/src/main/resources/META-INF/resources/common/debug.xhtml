<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:h="http://java.sun.com/jsf/html">

	<style type="text/css">
		.debug-panel {
			margin: 20px 0px;
			border-top: 1px solid #6CA5CE;
			border-bottom: 1px solid #6CA5CE
		}
		.debug-panel h4 {
			background-color: #C5D5E0;
			font-weight: bold;
		}
		.debug-panel .javascript-errors {
			border-top: 1px dotted #333333;
			border-bottom: 1px dotted #333333;
		}
		.debug-panel .javascript-errors h6 {
			background-color: #DEE5EA;
			font-weight: bold;
		}
		.debug-panel .javascript-errors div {
			width: 80%;
			margin: 5px auto;
			padding: 5px;
			background-color: #ffffff;
			color: #555555;
			text-align: left;
			border: 1px solid #FF474A;
		    border-radius:        3px;
		    -moz-border-radius:   3px;
		    -webkit-border-radius:3px;
		    -o-border-radius:     3px;
		    -ms-border-radius:    3px;
		    -khtml-border-radius: 3px;
		    box-shadow:         2px 2px 1px rgba(0, 0, 0, 0.4) inset;
		    -moz-box-shadow:    2px 2px 1px rgba(0, 0, 0, 0.4) inset;
		    -webkit-box-shadow: 2px 2px 1px rgba(0, 0, 0, 0.4) inset;
		    -khtml-box-shadow:  2px 2px 1px rgba(0, 0, 0, 0.4) inset;
		}
		.errmsg {
			font-weight: bold;
		}
	</style>	

    <div class="debug-panel center">
    	<h4>Debug panel / Ctrl+Shift+M for JSF debug panel</h4>
        <div class="javascript-errors">
 			<h6>JavaScript errors</h6>
        </div>
        
		<script type="text/javascript">
			window.onerror = function(message, url, linenumber) {
				var errorbox = document.createElement("div");
				errorbox.className = 'error-log';
				errorbox.innerHTML = 'JS Error: <span class="errmsg">' + message + '</span><br />line number: ' + linenumber + '<br />located: ' + url;
				var jsErrorPanel = document.querySelector('.javascript-errors');
				jsErrorPanel.appendChild(errorbox);
				return false;
			}
		</script>

        <a4j:log />
        <ui:debug hotkey="M" rendered="false" />
    </div>

</ui:composition>
