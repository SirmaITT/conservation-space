<div class="instance-permissions" style="padding-right: 1px;">
	<div ng-if="showAllSections">
	<label emf-label="permissions.type"></label> <span class="permission-model">{{ permissions.permissionModel | permissionType }}</span>
	</div>
	<div>
		<button type="button" class="btn btn-sm btn-primary edit-permissions" ng-click="editPermissions()" ng-hide="!permissions.editAllowed || editMode">
			<span emf-label="permissions.edit.permissions" ></span>
		</button>

		<button type="button" class="btn btn-sm btn-danger restore-permissions" ng-click="restorePermissions()" ng-hide="!permissions.restoreAllowed || !editMode">
			<span emf-label="permissions.restore.permission"></span>
		</button>

		<button type="button" class="btn btn-sm btn-primary save-permissions" ng-click="savePermissions()" ng-show="editMode">
				<span emf-label="permissions.save.permission"></span>
		</button>
		
		<button type="button" class="btn btn-sm btn-default cancel-edit-permissions" ng-click="cancelEdit()" ng-show="editMode">
		<span emf-label="permissions.cancel"></span>
		</button>
	</div>

	<facet class="facet-special-permissions" title="{{permissionsSpecialFacet}}">

		<button type="button" class="btn btn-sm btn-default add-user-group-btn" ng-click="addSpecialPermission()" ng-show="editMode">
			<span class="glyphicon glyphicon-plus" aria-hidden="true"  emf-label="permissions.add.user.group"></span>
		</button>
		
		<div ng-repeat="permission in permissions.special.permissions" 
			class="user-role-assignment" 
			user-role="permission" 
			selected-permissions="permissions.special.permissions" 
			editable="{{editMode}}" 
			style="margin-bottom: 10px;">
		</div>
		
		<div ng-if="editMode && showAllSections">		
				<input type="checkbox" 
					ng-model="permissions.allOtherUsersEnabled"
					ng-disabled="!permissions.editAllowed || !editMode"
					ng-change="refreshSpecialPermissions()" />
					<label emf-label="permissions.enable.users" style="width: inherit;"></label>
		</div>
		<div class="user-role-assignment all-other-users-section"
		 ng-if="permissions.special.allOther" user-role="permissions.special.allOther" editable="{{editMode}}" disable-user-select="true"></div>
	</facet>
	
	<facet class="facet-inherited-permissions" title="{{permissionsInheritedFacet}}" ng-if="showAllSections">
			<input type="checkbox"
				ng-model="permissions.inheritedPermissionsEnabled"
				ng-disabled="!permissions.editAllowed || !editMode || blockInheritedPermissions"
				ng-change="refreshInheritedPermissions()" />
			<label style="width: inherit;" emf-label="permissions.enable.inherit.permissions"></label>	

		<div ng-repeat="permission in permissions.inherited.permissions" class="user-role-assignment" user-role="permission" style="margin-bottom: 10px;"></div>

		<div class="user-role-assignment" ng-if="permissions.inherited.allOther" user-role="permissions.inherited.allOther"></div>
	</facet>
	
	<facet class="facet-management-permissions" title="{{permissionsManagmentFacet}}" ng-if="showAllSections">
		<div ng-repeat="permission in permissions.management.permissions" class="user-role-assignment" user-role="permission" style="margin-bottom: 10px;"></div>
	</facet>
</div>