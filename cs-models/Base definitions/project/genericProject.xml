<?xml version="1.0"?>
<definition id="genericProject" isAbstract="true" type="project">
	<fields>
		<!-- headers and tooltip -->
		<field name="default_header" type="ANY" label="PROJECT_DEFAULT_HEADER" mandatory="false" displayType="system" dmsType="FORBIDDEN" />
	    <field name="compact_header" type="an..4096" label="PROJECT_COMPACT_HEADER" mandatory="false" displayType="system" dmsType="FORBIDDEN" />
	    <field name="breadcrumb_header" type="an..4096" label="PROJECT_BREADCRUMB_HEADER" mandatory="false" displayType="system" dmsType="FORBIDDEN" />
		<field name="tooltip_header" type="an..4096" label="PROJECT_TOOLTIP_HEADER" mandatory="false" displayType="system" dmsType="FORBIDDEN" />
	    
		<!-- system fields -->
		<field name="emf:isDeleted" type="boolean"  displayType="system" uri="emf:isDeleted" dmsType="FORBIDDEN"><value>false</value></field>
		<field name="rdf:type" type="URI" displayType="system" uri="rdf:type" dmsType="FORBIDDEN">
			<value>http://ittruse.ittbg.com/ontology/enterpriseManagementFramework#Project</value>
		</field>
		<field name="activityId" type="an..180" label="activityId.label" displayType="system" uri="emf:activityId" />
	    <field name="transitionMatrix" type="an..1024" label="transitionMatrix.label" displayType="system" uri="emf:transitionMatrix" />
		<field name="outcome" type="an..50" codelist="CL9" displayType="readOnly" label="outcome.label" previewEmpty="false" uri="emf:outcome" />	
		<field name="integrated" type="boolean" label="integrated.label" displayType="hidden" uri="emf:integrated">
			<value>false</value>
		</field>
		<field name="uri" type="an..50" label="uri.label" displayType="hidden" tooltip="uri.tooltip" uri="emf:uri" />
		
		<!-- general fields for each primary object -->
		<field name="identifier" type="an..50" label="genericproject.identifier" mandatory="false" displayType="readOnly" dmsType="cm:name" rnc="${eval(${today.format(dd_MM_yyyy)}_${seq({+projectSequence})})}" uri="dcterms:identifier">
				<condition id="hiddenFieldId" renderAs="HIDDEN">[identifier] IN ('NO_ID')</condition>
		</field>
		<field name="type" 		type="an..180" codelist="CL2" label="genericproject.type" mandatory="false" displayType="readonly" dmsType="pm:type" uri="emf:type"><value>GEP10001</value></field>
		<field name="title" 	type="an..50" label="genericproject.title" mandatory="true" displayType="editable" previewEmpty="false" dmsType="cm:title" uri="dcterms:title" />				
		<field name="status" 	type="an..50" codelist="CL1" label="status.label" mandatory="false" displayType="readOnly" previewEmpty="false" dmsType="pm:status" uri="emf:status">
			<condition id="hiddenFieldId" renderAs="HIDDEN">[identifier] IN ('NO_ID')</condition>
		</field>
		<field name="description" type="an..1024" label="genericproject.description" displayType="editable" previewEmpty="false" dmsType="cm:description" uri="dcterms:description" />
		<field name="createdOn" type="datetime" label="genericproject.createdOn" displayType="readOnly" previewEmpty="false" dmsType="-cm:created" uri="emf:createdOn" />
		<field name="createdBy" type="uri" label="genericproject.createdBy" displayType="readOnly" previewEmpty="false" dmsType="-cm:creator" uri="emf:createdBy">
			<control id="PICKER">
				<control-param id="range" name="range">emf:User</control-param>
			</control>
		</field>
		<field name="modifiedOn" type="datetime" label="modifiedOn.label" displayType="readOnly" previewEmpty="false" dmsType="-cm:modified" uri="emf:modifiedOn"/>
		<field name="modifiedBy" type="uri" label="modifiedBy.label" displayType="readOnly" previewEmpty="false" dmsType="-cm:modifier" uri="emf:modifiedBy">
			<control id="PICKER">
				<control-param id="range" name="range">emf:User</control-param>
			</control>
		</field>
		<field name="completedOn" type="datetime" displayType="hidden" label="completedOn.label" previewEmpty="false" dmsType="-cm:completed" uri="emf:completedOn" />
		<field name="priority" 	type="an..20" codelist="CL208" label="genericproject.priority" displayType="editable" previewEmpty="false" uri="emf:priority"/>
		
		<field name="parentOf" type="uri" label="parentOf" mandatory="false" displayType="readOnly" multiValued="true" previewEmpty="false" uri="emf:parentOf" >
			<control id="PICKER">
				<control-param id="range" name="range">emf:Project,emf:Case,emf:Document,emf:Audio,emf:Video,emf:Image,emf:Task,emf:User,emf:Group</control-param>
			</control>
		</field>
		<field name="hasParent" type="uri" label="hasParent" mandatory="false" displayType="readOnly" multiValued="true" previewEmpty="false" uri="emf:hasParent" >
			<control id="PICKER">
				<control-param id="range" name="range">emf:Project,emf:Case,emf:Document,emf:Audio,emf:Video,emf:Image,emf:Task,emf:User,emf:Group</control-param>
			</control>
		</field>
		<field name="hasThumbnail" type="uri" label="hasThumbnail" mandatory="false" displayType="readOnly" previewEmpty="false" uri="emf:hasThumbnail" >
			<control id="PICKER">
				<control-param id="range" name="range">emf:Image</control-param>
			</control>
		</field>
		<field name="partOf" type="uri" label="partOf.label" mandatory="false" displayType="system" multiValued="true" previewEmpty="false" uri="ptop:partOf" >
     		<control id="PICKER">
      			<control-param id="range" name="range"></control-param>
     		</control>
    	</field>
    	<field name="hasChild" type="uri" label="hasChild.label" mandatory="false" displayType="system" multiValued="true" previewEmpty="false" uri="emf:hasChild" >
     		<control id="PICKER">
      			<control-param id="range" name="range"></control-param>
     		</control>
    	</field>  
		<field name="hasTemplate" type="uri" label="hasTemplate" mandatory="false" displayType="system" multiValued="false" previewEmpty="false" uri="emf:hasTemplate"/>
		<!-- project fields -->
		<field name="owner" 	type="uri" label="owner" displayType="editable" previewEmpty="false" uri="emf:owner">
			<control id="PICKER">
				<control-param id="range" name="range">emf:User</control-param>
			</control>
		</field>		
	
		<!-- general fields for each primary object -->
		<field name="plannedStartDate" type="date" label="plannedStartDate.label" mandatory="false" displayType="editable" previewEmpty="false" uri="emf:plannedStartDate"></field>
		<field name="plannedEndDate"   type="date" label="plannedEndDate.label" mandatory="false" displayType="editable" previewEmpty="false" uri="emf:plannedEndDate"></field>
		<!-- project fields -->
		<field name="actualStartDate"  type="date" label="genericproject.actualStartDate" mandatory="false" displayType="editable" previewEmpty="false" uri="emf:actualStartDate"></field>
		<field name="actualEndDate"    type="date" label="genericproject.actualEndDate" mandatory="false" displayType="editable" previewEmpty="false" uri="emf:actualEndDate"></field>
		<field name="estimatedEffortHours" type="n..10" label="genericproject.estimatedEffortHours" mandatory="false" displayType="editable" previewEmpty="false" uri="emf:estimatedEffort"></field>
		<field name="actualEffortHours" type="n..10" label="genericproject.actualEffortHours" mandatory="false" displayType="editable" previewEmpty="false" uri="emf:actualEffort"></field>
		<field name="accumulatedEstimatedEffortHours" type="n..10" label="genericproject.accumulatedEstimatedEffortHours" mandatory="false" displayType="editable" previewEmpty="false" uri="emf:accumulatedEstimatedEffort" ></field>
		<field name="accumulatedActualEffortHours" type="n..10" label="genericproject.accumulatedActualEffortHours" mandatory="false" displayType="editable" previewEmpty="false" uri="emf:accumulatedActualEffort" ></field>
		<field name="duration" type="n..10" label="genericproject.duration" mandatory="false" displayType="editable" previewEmpty="false" uri="emf:duration"></field>
	</fields>
<transitions>		
		<transition id="editDetails" label="editDetails.label" eventId="editDetails" purpose="editDetails" tooltip="editDetails.tooltip" />
		<transition id="delete" label="delete.label" eventId="delete" purpose="delete" confirmation="confirmation.action" tooltip="delete.tooltip" />
		<transition id="start" label="start.label" eventId="start" purpose="transition" immediate="true" tooltip="start.tooltip" /> <!--immediate="false"-->
		<transition id="approve" label="approve.label" eventId="approve" purpose="transition" immediate="true" tooltip="approve.tooltip" /> <!--immediate="false"-->
		<transition id="stop" label="stop.label" eventId="stop" purpose="transition" immediate="true" tooltip="stop.tooltip" /> <!--immediate="false"-->
		<transition id="suspend" label="suspend.label" eventId="suspend" purpose="transition" immediate="true" tooltip="suspend.tooltip" />
		<transition id="restart" label="restart.label" eventId="restart" purpose="transition" immediate="true" tooltip="restart.tooltip" />
		<transition id="complete" label="complete.label" eventId="complete" purpose="transition" immediate="true" tooltip="complete.tooltip" /> <!--immediate="false"-->
		<transition id="move" label="move.label" eventId="move" purpose="move" tooltip="move.tooltip" />
		<transition id="lock" label="lock.label" eventId="lock" purpose="lock" tooltip="lock.tooltip" />
		<transition id="unlock" label="unlock.label" eventId="unlock" purpose="unlock" tooltip="unlock.tooltip" />		
		<transition id="managePermissions" label="managePermissions.label" eventId="managePermissions" purpose="managePermissions" tooltip="managePermissions.tooltip" />
	    <transition id="addThumbnail" label="addThumbnail.label" eventId="addThumbnail" purpose="addThumbnail" tooltip="addThumbnail.tooltip" />	
		<transition id="saveAsTemplate" label="saveAsTemplate.label" eventId="saveAsTemplate" purpose="saveAsTemplate" tooltip="saveAsTemplate.tooltip" />
		<transition id="print" label="print.label" eventId="print" purpose="print" tooltip="print.tooltip" />
		<transition id="printTab" label="printTab.label" eventId="printTab" purpose="printTab" tooltip="printTab.tooltip" />
		<transition id="exportTabPDF" label="exportTabPDF.label" eventId="exportTabPDF" purpose="exportTabPDF" tooltip="exportTabPDF.tooltip" />
		<transition id="exportPDF" label="exportPDF.label" eventId="exportPDF" purpose="exportPDF" tooltip="exportPDF.tooltip" />
       	<transition id="exportWord" label="exportWord.label" eventId="exportWord" purpose="exportWord" tooltip="exportWord.tooltip" />
	   	<transition id="exportTabWord" label="exportTabWord.label" eventId="exportTabWord" purpose="exportTabWord" tooltip="exportTabWord.tooltip" />
		<transition id="clone" label="clone.label" eventId="clone" purpose="clone" tooltip="clone.tooltip" />
		<transition id="createInContext" eventId="createInContext" purpose="createInContext" label="createInContext.label" displayType="hidden" />	
		<transition id="revertVersion" label="revertVersion.label" eventId="revertVersion" purpose="revertVersion" confirmation="revert.confirmation.action" tooltip="revertVersion.tooltip"/>
</transitions>

<stateTransitions>
		<stateTransition from="INIT" transition="create" to="SUBMITTED"/>
		<stateTransition from="INIT" transition="clone" to="SUBMITTED"/>
		
		<stateTransition from="SUBMITTED" transition="editDetails" to="SUBMITTED"></stateTransition>
		<stateTransition from="SUBMITTED" transition="start" to="IN_PROGRESS"></stateTransition>
		<stateTransition from="SUBMITTED" transition="approve" to="APPROVED"></stateTransition>
		<stateTransition from="SUBMITTED" transition="delete" to="DELETED"></stateTransition>		
		<stateTransition from="SUBMITTED" transition="move" to="SUBMITTED"/>
		<stateTransition from="SUBMITTED" transition="lock" to="SUBMITTED"/>
		<stateTransition from="SUBMITTED" transition="unlock" to="SUBMITTED"/>
		<stateTransition from="SUBMITTED" transition="managePermissions" to="SUBMITTED"/>
	    <stateTransition from="SUBMITTED" transition="addThumbnail" to="SUBMITTED" />
		<stateTransition from="SUBMITTED" transition="saveAsTemplate" to="SUBMITTED"/>
		<stateTransition from="SUBMITTED" transition="print" to="SUBMITTED"/>
		<stateTransition from="SUBMITTED" transition="printTab" to="SUBMITTED"/>
		<stateTransition from="SUBMITTED" transition="exportTabPDF" to="SUBMITTED"/>
		<stateTransition from="SUBMITTED" transition="exportPDF" to="SUBMITTED"/>
		<stateTransition from="SUBMITTED" transition="exportWord" to="SUBMITTED" />
		<stateTransition from="SUBMITTED" transition="exportTabWord" to="SUBMITTED" />
		<stateTransition from="SUBMITTED" transition="clone" to="SUBMITTED" />
		<stateTransition from="SUBMITTED" transition="createInContext" to="SUBMITTED"/>
		<stateTransition from="SUBMITTED" transition="revertVersion" to="SUBMITTED" />
		
		<stateTransition from="APPROVED" transition="editDetails" to="APPROVED"></stateTransition>
		<stateTransition from="APPROVED" transition="start" to="IN_PROGRESS"></stateTransition>
		<stateTransition from="APPROVED" transition="stop" to="STOPPED"></stateTransition>		
		<stateTransition from="APPROVED" transition="move" to="APPROVED"/>
		<stateTransition from="APPROVED" transition="lock" to="APPROVED"/>
		<stateTransition from="APPROVED" transition="unlock" to="APPROVED"/>		  						
		<stateTransition from="APPROVED" transition="managePermissions" to="APPROVED" />
        <stateTransition from="APPROVED" transition="addThumbnail" to="APPROVED" />
		<stateTransition from="APPROVED" transition="saveAsTemplate" to="APPROVED"/>
		<stateTransition from="APPROVED" transition="print" to="APPROVED"/>
		<stateTransition from="APPROVED" transition="printTab" to="APPROVED"/>
		<stateTransition from="APPROVED" transition="exportTabPDF" to="APPROVED"/>
		<stateTransition from="APPROVED" transition="exportPDF" to="APPROVED"/>
		<stateTransition from="APPROVED" transition="exportWord" to="APPROVED" />
		<stateTransition from="APPROVED" transition="exportTabWord" to="APPROVED" />
		<stateTransition from="APPROVED" transition="clone" to="APPROVED" />
		<stateTransition from="APPROVED" transition="createInContext" to="APPROVED"/>
		<stateTransition from="APPROVED" transition="revertVersion" to="SUBMITTED" />
				
		<stateTransition from="IN_PROGRESS" transition="editDetails" to="IN_PROGRESS"></stateTransition>		
		<stateTransition from="IN_PROGRESS" transition="suspend" to="ON_HOLD"></stateTransition>
		<stateTransition from="IN_PROGRESS" transition="stop" to="STOPPED"></stateTransition>
		<stateTransition from="IN_PROGRESS" transition="complete" to="COMPLETED"></stateTransition>			
		<stateTransition from="IN_PROGRESS" transition="move" to="IN_PROGRESS"/>
		<stateTransition from="IN_PROGRESS" transition="lock" to="IN_PROGRESS"/>
		<stateTransition from="IN_PROGRESS" transition="unlock" to="IN_PROGRESS"/>	  						
		<stateTransition from="IN_PROGRESS" transition="managePermissions" to="IN_PROGRESS" />
	    <stateTransition from="IN_PROGRESS" transition="addThumbnail" to="IN_PROGRESS" />
		<stateTransition from="IN_PROGRESS" transition="saveAsTemplate" to="IN_PROGRESS"/>
		<stateTransition from="IN_PROGRESS" transition="print" to="IN_PROGRESS"/>
		<stateTransition from="IN_PROGRESS" transition="printTab" to="IN_PROGRESS"/>
		<stateTransition from="IN_PROGRESS" transition="exportTabPDF" to="IN_PROGRESS"/>
		<stateTransition from="IN_PROGRESS" transition="exportPDF" to="IN_PROGRESS"/>
		<stateTransition from="IN_PROGRESS" transition="exportWord" to="IN_PROGRESS" />
		<stateTransition from="IN_PROGRESS" transition="exportTabWord" to="IN_PROGRESS" />
		<stateTransition from="IN_PROGRESS" transition="clone" to="IN_PROGRESS" />
		<stateTransition from="IN_PROGRESS" transition="createInContext" to="IN_PROGRESS"/>
		<stateTransition from="IN_PROGRESS" transition="revertVersion" to="SUBMITTED" />
		
		<stateTransition from="ON_HOLD" transition="restart" to="IN_PROGRESS"></stateTransition>
		<stateTransition from="ON_HOLD" transition="editDetails" to="ON_HOLD"></stateTransition>
		<stateTransition from="ON_HOLD" transition="stop" to="STOPPED"></stateTransition>				
		<stateTransition from="ON_HOLD" transition="move" to="ON_HOLD"/>
		<stateTransition from="ON_HOLD" transition="lock" to="ON_HOLD"/>
		<stateTransition from="ON_HOLD" transition="unlock" to="ON_HOLD"/>
		<stateTransition from="ON_HOLD" transition="managePermissions" to="ON_HOLD" />
	    <stateTransition from="ON_HOLD" transition="addThumbnail" to="ON_HOLD" />
		<stateTransition from="ON_HOLD" transition="saveAsTemplate" to="ON_HOLD"/>
		<stateTransition from="ON_HOLD" transition="print" to="ON_HOLD"/>
		<stateTransition from="ON_HOLD" transition="printTab" to="ON_HOLD"/>
		<stateTransition from="ON_HOLD" transition="exportTabPDF" to="ON_HOLD"/>
		<stateTransition from="ON_HOLD" transition="exportPDF" to="ON_HOLD"/>
		<stateTransition from="ON_HOLD" transition="exportWord" to="ON_HOLD" />
		<stateTransition from="ON_HOLD" transition="exportTabWord" to="ON_HOLD" />
		<stateTransition from="ON_HOLD" transition="clone" to="ON_HOLD" />
		
		<stateTransition from="STOPPED" transition="managePermissions" to="STOPPED" />
		<stateTransition from="STOPPED" transition="print" to="STOPPED"/>
		<stateTransition from="STOPPED" transition="printTab" to="STOPPED"/>
		<stateTransition from="STOPPED" transition="exportTabPDF" to="STOPPED"/>
		<stateTransition from="STOPPED" transition="exportPDF" to="STOPPED"/>
		<stateTransition from="STOPPED" transition="exportWord" to="STOPPED" />
		<stateTransition from="STOPPED" transition="exportTabWord" to="STOPPED" />
		<stateTransition from="STOPPED" transition="clone" to="STOPPED" />
		
		<stateTransition from="COMPLETED" transition="managePermissions" to="COMPLETED" />
		<stateTransition from="COMPLETED" transition="print" to="COMPLETED"/>	
		<stateTransition from="COMPLETED" transition="printTab" to="COMPLETED"/>
		<stateTransition from="COMPLETED" transition="exportTabPDF" to="COMPLETED"/>
		<stateTransition from="COMPLETED" transition="exportPDF" to="COMPLETED"/>
		<stateTransition from="COMPLETED" transition="exportWord" to="COMPLETED" />
		<stateTransition from="COMPLETED" transition="exportTabWord" to="COMPLETED" />
		<stateTransition from="COMPLETED" transition="clone" to="COMPLETED" />
	</stateTransitions>


	<labels>
		<label id="PROJECT_TOOLTIP_HEADER">
			<value lang="en"><![CDATA[${eval(
                <span class="thumbnail-content">
                    <img class="thumbnail" src="${thumbnailUri(64)}" />
                </span>
                <span class="tooltip-data">
                    <span class="tooltip-header">
                        <a href="${link(currentInstance)}" class="instance-link" data-status="${get([status])}" data-id="${id}" data-uid="${id.uid}">
                            <span data-identifier="${get([identifier])}">${get([identifier])}</span> 
                            (<span data-type="${get([type])}">${CL([type])}</span>) 
                            <span data-title="${get([title])}">${get([title])}</span> 
                            (<span data-status="${get([status])}">${CL([status])}</span>)
                        </a>
                    </span>
                    <span class="tooltip-row">
                        <label>Modified by: </label>
                        <span data-property="modifiedBy">${user(${get([modifiedBy])})}</span>
                    </span>
                    <span class="tooltip-row">
                        <label>Modified on: </label>
                        <span data-property="modifiedOn">${date([modifiedOn]).format(dd.MM.yyyy, HH:mm)}</span>
                    </span>
                    <span class="tooltip-row">
                        <label>Assignees: </label>
                        <span data-property="assignees">${assignees}</span>
                    </span>
                    <span class="tooltip-row">
                        <label>Planned start date: </label>
                        <span data-property="plannedStartDate">${date([plannedStartDate]).format(dd.MM.yyyy, HH:mm)}</span>
                    </span>
                    <span class="tooltip-row">
                        <label>Planned end date: </label>
                        <span data-property="plannedEndDate">${date([plannedEndDate]).format(dd.MM.yyyy, HH:mm)}</span>
                    </span>
                    <span class="tooltip-row">
                        <label>Estimated effort hours: </label>
                        <span data-property="estimatedEffortHours">${get([estimatedEffortHours])}</span>
                    </span>
                </span>
            )}]]></value>
			<value lang="bg"><![CDATA[${eval(
                <span class="thumbnail-content">
                    <img class="thumbnail" src="${thumbnailUri(64)}" />
                </span>
                <span class="tooltip-data">
                    <span class="tooltip-header">
                        <a href="${link(currentInstance)}" class="instance-link" data-status="${get([status])}" data-id="${id}" data-uid="${id.uid}">
                            <span data-identifier="${get([identifier])}">${get([identifier])} </span>
                            (<span data-type="${get([type])}">${CL([type])}</span>) 
                            <span data-title="${get([title])}">${get([title])}</span> 
                            (<span data-status="${get([status])}">${CL([status])}</span>)
                        </a>
                    </span>
                    <span class="tooltip-row">
                        <label>Последно актуализиран от: </label>
                        <span data-property="modifiedBy">${user(${get([modifiedBy])})}</span>
                    </span>
                    <span class="tooltip-row">
                        <label>Последно актуализиран на: </label>
                        <span data-property="modifiedOn">${date([modifiedOn]).format(dd.MM.yyyy, HH:mm)}</span>
                    </span>
                    <span class="tooltip-row">
                        <label>Участници: </label>
                        <span data-property="assignees">${assignees}</span>
                    </span>
                    <span class="tooltip-row">
                        <label>Планирана начална дата: </label>
                        <span data-property="plannedStartDate">${date([plannedStartDate]).format(dd.MM.yyyy, HH:mm)}</span>
                    </span>
                    <span class="tooltip-row">
                        <label>Планирана крайна дата: </label>
                        <span data-property="plannedEndDate">${date([plannedEndDate]).format(dd.MM.yyyy, HH:mm)}</span>
                    </span>
                    <span class="tooltip-row">
                        <label>Прогнозни работни часове: </label>
                        <span data-property="estimatedEffortHours">${get([estimatedEffortHours])}</span>
                    </span>
                </span>
            )}]]></value>
		</label>
		<label id="PROJECT_DEFAULT_HEADER">
			<value lang="en"><![CDATA[${eval(
			${var.href= ${if(${get([emf:isDeleted])} == false).then(href="${link(currentInstance)}")} }
			${var.isVersion= ${if(${get([isVersion])} == true).then(true).else(false)}}
			<span><img src="${thumbnailUri(64)}"/></span>
			<span>
				<span class="truncate-element">
					<a class="instance-link" ${var.href} uid="${id.uid}">
						<b>
							${if(${get([emf:isDeleted])} == true).then(<span><b>(Deleted) </b></span> )}
							<span data-property="identifier">${get([identifier])}</span>&nbsp;
							(<span data-property="type">${CL([type])}</span>)&nbsp;
							<span data-property="title">${get([title])}</span>&nbsp;
							(<span data-property="status">${CL([status])}</span>)&nbsp;
							${if(${var.isVersion}).then(
								<span data-property="emf:version">${get([emf:version])}</span>
							)}
						</b>
					</a>
				</span>
				<br />
				${if(${get([owner])} <> null).then(
					<span>
						<label>Owner:</label>&nbsp;
						<a href="${userLink(${get([owner])})}">${user(${get([owner])})}, </a>
					</span>
				)}
				<span>
					<label>Created on:</label>&nbsp;
					<span data-property="createdOn">${date([createdOn]).format(dd.MM.yyyy, HH:mm)}</span> 
				</span> 
				${if(${get([lockedBy])} <> null).then(<br /><span class="banner label label-warning">${label(lockedBy)}${user([lockedBy])}</span>)}
			</span>)}]]></value>
			<value lang="bg"><![CDATA[${eval(
			${var.href= ${if(${get([emf:isDeleted])} == false).then(href="${link(currentInstance)}")} }
			${var.isVersion= ${if(${get([isVersion])} == true).then(true).else(false)}}
			<span ><img src="${thumbnailUri(64)}"/></span>
			<span>
				<span class="truncate-element">
					<a class="instance-link" ${var.href} uid="${id.uid}">
						<b>
							${if(${get([emf:isDeleted])} == true).then(<span><b>(Изтрит) </b></span> )}
							<span data-property="identifier">${get([identifier])}</span>&nbsp;
							(<span data-property="type">${CL([type])}</span>)&nbsp;
							<span data-property="title">${get([title])}</span>&nbsp;
							(<span data-property="status">${CL([status])}</span>)&nbsp;
							${if(${var.isVersion}).then(
								<span data-property="emf:version">${get([emf:version])}</span>
							)}
						</b>
					</a>
				</span>
				<br />
				${if(${get([owner])} <> null).then(
					<span>
						<label>Собственик:</label>&nbsp;
						<a href="${userLink(${get([owner])})}">${user(${get([owner])})}, </a>
					</span>
				)}
				<span>
					<label>Създаден на:</label>&nbsp; 
					<span data-property="createdOn">${date([createdOn]).format(dd.MM.yyyy, HH:mm)}</span>
				</span> 
				${if(${get([lockedBy])} <> null).then(<br /><span class="banner label label-warning">${label(lockedBy)}${user([lockedBy])}</span>)}
			</span>)}]]></value>
		</label>
        <label id="PROJECT_COMPACT_HEADER">
			<value lang="en"><![CDATA[${eval(
			${var.href= ${if(${get([emf:isDeleted])} == false).then(href="${link(currentInstance)}")} }
			${var.isVersion= ${if(${get([isVersion])} == true).then(true).else(false)}}
			<span ><img src="${thumbnailUri(16)}"/></span>
			${if(${get([lockedBy])} <> null).then(<span class="lock-label"><i class="fa fa-lock fa-lg"></i></span>)} 
			<span class="truncate-element">
				<a class="instance-link ${if(${get([emf:isDeleted])} == true).then(instance-deleted).else(has-tooltip)}" ${var.href} uid="${id.uid}">
						${if(${get([emf:isDeleted])} == true).then(<span><b>(Deleted) </b></span> )}
						<span data-property="identifier">${get([identifier])}</span>&nbsp;
						(<span data-property="type">${CL([type])}</span>)&nbsp;
						<span data-property="title">${get([title])}</span>&nbsp;
						(<span data-property="status">${CL([status])}</span>)&nbsp;
						${if(${var.isVersion}).then(
							<span data-property="emf:version">${get([emf:version])}</span>
						)}
				</a>
			</span>
			)}]]></value>
            <value lang="bg"><![CDATA[${eval(
            ${var.href= ${if(${get([emf:isDeleted])} == false).then(href="${link(currentInstance)}")} }
			${var.isVersion= ${if(${get([isVersion])} == true).then(true).else(false)}}
			<span ><img src="${thumbnailUri(16)}"/></span>
			${if(${get([lockedBy])} <> null).then(<span class="lock-label"><i class="fa fa-lock fa-lg"></i></span>)} 
			<span class="truncate-element">
				<a class="instance-link ${if(${get([emf:isDeleted])} == true).then(instance-deleted).else(has-tooltip)}" ${var.href} uid="${id.uid}">
						${if(${get([emf:isDeleted])} == true).then(<span><b>(Изтрит) </b></span> )}
						<span data-property="identifier">${get([identifier])}</span>&nbsp;
						(<span data-property="type">${CL([type])}</span>)&nbsp;
						<span data-property="title">${get([title])}</span>&nbsp;
						(<span data-property="status">${CL([status])}</span>)&nbsp;
						${if(${var.isVersion}).then(
							<span data-property="emf:version">${get([emf:version])}</span>
						)}
				</a>
			</span>
			)}]]></value>
		</label>
        <label id="PROJECT_BREADCRUMB_HEADER">
			<value lang="bg"><![CDATA[${eval(
			${var.href= ${if(${get([emf:isDeleted])} == false).then(href="${link(currentInstance)}")} }
			<span ><img src="${thumbnailUri(16)}"/></span>
			${if(${get([lockedBy])} <> null).then(<span class="lock-label"><i class="fa fa-lock fa-lg"></i></span>)} 
			<span>
				<a class="instance-link ${if(${get([emf:isDeleted])} == true).then(instance-deleted).else(has-tooltip)}" ${var.href} uid="${id.uid}">
					${if(${get([emf:isDeleted])} == true).then(<span><b>(Изтрит) </b></span>)}
					<span data-property="title">${get([title])}</span>
				</a>
			</span>)}]]></value>
            <value lang="en"><![CDATA[${eval(
            ${var.href= ${if(${get([emf:isDeleted])} == false).then(href="${link(currentInstance)}")} }
            <span ><img src="${thumbnailUri(16)}"/></span>
            ${if(${get([lockedBy])} <> null).then(<span class="lock-label"><i class="fa fa-lock fa-lg"></i></span>)} 
            <span>
				<a class="instance-link ${if(${get([emf:isDeleted])} == true).then(instance-deleted).else(has-tooltip)}" ${var.href} uid="${id.uid}">
					${if(${get([emf:isDeleted])} == true).then(<span><b>(Deleted) </b></span>)}
					<span data-property="title">${get([title])}</span>
				</a>
			</span>)}]]></value>
		</label>
		<label id="genericproject.identifier">
			<value lang="bg">Номер</value>
			<value lang="en">Identifier</value>
		</label>
		<label id="genericproject.type">
			<value lang="bg">Тип</value>
			<value lang="en">Type</value>
		</label>
		<label id="genericproject.title">
			<value lang="bg">Наименование</value>
			<value lang="en">Title</value>
		</label>
		<label id="genericproject.description">
			<value lang="bg">Описание</value>
			<value lang="en">Description</value>
		</label>
		<label id="genericproject.createdOn">
			<value lang="bg">Създаден на</value>
			<value lang="en">Created on</value>
		</label>
		<label id="genericproject.createdBy">
			<value lang="bg">Създаден от</value>
			<value lang="en">Created by</value>
		</label>
		<label id="genericproject.priority">
			<value lang="bg">Приоритет</value>
			<value lang="en">Priority</value>
		</label>
		<label id="genericproject.duration">
			<value lang="bg">Продължителност</value>
			<value lang="en">Duration</value>
		</label>
		<label id="genericproject.actualStartDate">
			<value lang="bg">Действителна начална дата</value>
			<value lang="en">Actual start date</value>
		</label>
		<label id="genericproject.actualAndDate">
			<value lang="bg">Действителна крайна дата</value>
			<value lang="en">Actual end date</value>
		</label>
		<label id="genericproject.actualEndDate">
			<value lang="bg">Действителна крайна дата</value>
			<value lang="en">Actual end date</value>
		</label>
		<label id="genericproject.estimatedEffortHours">
			<value lang="bg">Прогнозни работни часове</value>
			<value lang="en">Estimated Effort Hours</value>
		</label>
		<label id="genericproject.actualEffortHours">
			<value lang="bg">Действителни работни часове</value>
			<value lang="en">Actual Effort Hours</value>
		</label>
		<label id="genericproject.accumulatedEstimatedEffortHours">
			<value lang="bg">Натрупани прогнозни работни часове</value>
			<value lang="en">Accumulated Estimated Effort Hours</value>
		</label>
		<label id="genericproject.accumulatedActualEffortHours">
			<value lang="bg">Натрупани действителни работни часове</value>
			<value lang="en">Accumulated Actual Effort Hours</value>
		</label>
	</labels>
</definition>
